<HTML>
<HEAD>
<BASE TARGET="_top">
<TITLE>United States Patent: 7477149</TITLE></HEAD>
<BODY BGCOLOR="#FFFFFF">
<a name="top"></a>
<center>
<IMG SRC="/netaicon/PTO/patfthdr.gif" alt="[US Patent & Trademark Office, Patent Full Text and Image Database]">
<br>
<table>
<tr><td align=center>
<a href="http://www.uspto.gov/patft/index.html"><img src="/netaicon/PTO/home.gif" alt="[Home]" border="0" valign=middle></a>
<a href="/netahtml/PTO/search-bool.html"><img src="/netaicon/PTO/boolean.gif" alt="[Boolean Search]" border="0" valign=middle></a>
<A HREF="/netahtml/PTO/search-adv.htm"><IMG BORDER="0" SRC="/netaicon/PTO/manual.gif" ALT="[Manual Search]" valign=middle></A>
<a href="/netahtml/PTO/srchnum.htm"><img src="/netaicon/PTO/number.gif" alt="[Number Search]" border="0" valign=middle></a>
<A HREF="http://www.uspto.gov/patft/help/help.htm"><IMG BORDER="0" valign=middle SRC="/netaicon/PTO/help.gif" ALT="[Help]"></A>
</td></tr>
<tr><td align=center>
<A  HREF=/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=123&f=S&l=50&d=PTXT&s1=((RFID+OR+%22radio+frequency+identification%22).ABTX.+AND+(((Cryptography+OR+Crypto)+OR+Encryption)+OR+Cipher))&p=2&Query=abst/(RFID+or+(&quot;radio+frequency+identification&quot;))+AND+(Cryptography+or+Crypto+or+Encryption+or+Cipher)><IMG VALIGN=MIDDLE SRC=/netaicon/PTO/prevlist.gif border=0 ALT=[PREV_LIST]></A>
<A  HREF=/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=123&f=S&l=50&d=PTXT&s1=((RFID+OR+%22radio+frequency+identification%22).ABTX.+AND+(((Cryptography+OR+Crypto)+OR+Encryption)+OR+Cipher))&p=3&Query=abst/(RFID+or+(&quot;radio+frequency+identification&quot;))+AND+(Cryptography+or+Crypto+or+Encryption+or+Cipher)><IMG VALIGN=MIDDLE SRC=/netaicon/PTO/hitlist.gif border=0 ALT=[HIT_LIST]></A>
<A  HREF=/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=123&f=S&l=50&d=PTXT&s1=((RFID+OR+%22radio+frequency+identification%22).ABTX.+AND+(((Cryptography+OR+Crypto)+OR+Encryption)+OR+Cipher))&p=4&Query=abst/(RFID+or+(&quot;radio+frequency+identification&quot;))+AND+(Cryptography+or+Crypto+or+Encryption+or+Cipher)><IMG VALIGN=MIDDLE SRC=/netaicon/PTO/nextlist.gif border=0 ALT=[NEXT_LIST]></A>
<A  HREF=/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=122&f=G&l=50&d=PTXT&s1=((RFID+OR+%22radio+frequency+identification%22).ABTX.+AND+(((Cryptography+OR+Crypto)+OR+Encryption)+OR+Cipher))&p=3&OS=abst/(RFID+or+(&quot;radio+frequency+identification&quot;))+AND+(Cryptography+or+Crypto+or+Encryption+or+Cipher)><IMG VALIGN=MIDDLE SRC=/netaicon/PTO/prevdoc.gif border=0 ALT=[PREV_DOC]></A>
<A  HREF=/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=124&f=G&l=50&d=PTXT&s1=((RFID+OR+%22radio+frequency+identification%22).ABTX.+AND+(((Cryptography+OR+Crypto)+OR+Encryption)+OR+Cipher))&p=3&OS=abst/(RFID+or+(&quot;radio+frequency+identification&quot;))+AND+(Cryptography+or+Crypto+or+Encryption+or+Cipher)><IMG VALIGN=MIDDLE SRC=/netaicon/PTO/nextdoc.gif border=0 ALT=[NEXT_DOC]></A>

<a href="#bottom"><img src="/netaicon/PTO/bottom.gif" alt="[Bottom]" valign=middle border=0></A>
</td></tr>
<tr><td align=center>
<A HREF="http://ebiz1.uspto.gov/vision-service/ShoppingCart_P/ShowShoppingCart?backUrl1=http%3A//patft1.uspto.gov/netacgi/nph-Parser?Sect1%3DPTO2%26Sect2%3DHITOFF%26u%3D%25252Fnetahtml%25252FPTO%25252Fsearch-adv.htm%26r%3D123%26f%3DG%26l%3D50%26d%3DPTXT%26s1%3D((RFID%252BOR%252B%252522radio%252Bfrequency%252Bidentification%252522).ABTX.%252BAND%252B(((Cryptography%252BOR%252BCrypto)%252BOR%252BEncryption)%252BOR%252BCipher))%26p%3D3%26OS%3Dabst%2F(RFID%252Bor%252B(%252522radio%252Bfrequency%252Bidentification%252522))%252BAND%252B(Cryptography%252Bor%252BCrypto%252Bor%252BEncryption%252Bor%252BCipher)&backLabel1=Back%20to%20Document%3A%207477149"><img border=0 src="/netaicon/PTO/cart.gif" border=0 valign=middle alt="
[View Shopping Cart]"></A>
<A HREF="http://ebiz1.uspto.gov/vision-service/ShoppingCart_P/AddToShoppingCart?docNumber=7477149&backUrl1=http%3A//patft1.uspto.gov/netacgi/nph-Parser?Sect1%3DPTO2%26Sect2%3DHITOFF%26u%3D%25252Fnetahtml%25252FPTO%25252Fsearch-adv.htm%26r%3D123%26f%3DG%26l%3D50%26d%3DPTXT%26s1%3D((RFID%252BOR%252B%252522radio%252Bfrequency%252Bidentification%252522).ABTX.%252BAND%252B(((Cryptography%252BOR%252BCrypto)%252BOR%252BEncryption)%252BOR%252BCipher))%26p%3D3%26OS%3Dabst%2F(RFID%252Bor%252B(%252522radio%252Bfrequency%252Bidentification%252522))%252BAND%252B(Cryptography%252Bor%252BCrypto%252Bor%252BEncryption%252Bor%252BCipher)&backLabel1=Back%20to%20Document%3A%207477149">
<img border=0 src="/netaicon/PTO/order.gif" valign=middle alt="[Add to Shopping Cart]"></A>
</td></tr>
<tr><td align=center>
<a href=http://patimg1.uspto.gov/.piw?Docid=07477149&homeurl=http%3A%2F%2Fpatft.uspto.gov%2Fnetacgi%2Fnph-Parser%3FSect1%3DPTO2%2526Sect2%3DHITOFF%2526u%3D%25252Fnetahtml%25252FPTO%25252Fsearch-adv.htm%2526r%3D123%2526f%3DG%2526l%3D50%2526d%3DPTXT%2526s1%3D((RFID%252BOR%252B%252522radio%252Bfrequency%252Bidentification%252522).ABTX.%252BAND%252B(((Cryptography%252BOR%252BCrypto)%252BOR%252BEncryption)%252BOR%252BCipher))%2526p%3D3%2526OS%3Dabst%2F(RFID%252Bor%252B(%252522radio%252Bfrequency%252Bidentification%252522))%252BAND%252B(Cryptography%252Bor%252BCrypto%252Bor%252BEncryption%252Bor%252BCipher)%2526RS%3D(ABST%2F(RFID%252BOR%252B%252522radio%252Bfrequency%252Bidentification%252522)%252BAND%252B(((Cryptography%252BOR%252BCrypto)%252BOR%252BEncryption)%252BOR%252BCipher))&PageNum=&Rtype=&SectionNum=&idkey=NONE&Input=View+first+page><img src="/netaicon/PTO/image.gif" alt="[Image]" border="0" valign="middle"></A>

</td></tr>
</table>
</center>
<TABLE WIDTH="100%">
<TR><TD ALIGN="LEFT" width="50%">&nbsp;</TD>
<TD ALIGN=RIGHT VALIGN=BOTTOM WIDTH=50%><FONT SIZE=-1>( <STRONG>123</STRONG></FONT> <FONT SIZE=-2>of</FONT> <STRONG><FONT SIZE=-1>275</STRONG> )</FONT></TD></TR></TABLE>
<HR>
<TABLE WIDTH="100%">
<TR>	<TD ALIGN="LEFT" WIDTH="50%"><B>United States Patent </B></TD>
	<TD ALIGN="RIGHT" WIDTH="50%"><B>7,477,149</B></TD>
</TR>
<TR><TD ALIGN="LEFT" WIDTH="50%"><b>
 Kangas
 </B>
</TD>
<TD ALIGN="RIGHT" WIDTH="50%"> <B>
January 13, 2009
</B></TD>
</TR>
</TABLE>
<HR>
<font size="+1">Security system for inventory
</font><BR>
<BR><CENTER><B>Abstract</B></CENTER>
<P>A security system for inventory automatically detects removal of inventory
     items from an area or areas protected with security sensors. A person
     removing the item then scans an identifying code of the item, such as its
     bar code or <B><I>radio-frequency identification ("RFID</I></B>") tag, with a device
     such as a portable shopping assistant device; if the item is not scanned
     in an appropriate manner, such as within a particular a time period, then
     theft of the item may be suspected. Information for completing a purchase
     transaction can be sent from the portable shopping assistant device. In
     this manner, items can be purchased directly from the protected areas.
</P>
<HR>
<TABLE WIDTH="100%"> <TR><TD VALIGN="TOP" ALIGN="LEFT" WIDTH="10%">Inventors: </TD><TD ALIGN="LEFT" WIDTH="90%">
 <B>Kangas; P. Daniel</B> (Raleigh, NC) </TD></TR><TR> <TD VALIGN="TOP" ALIGN="LEFT" WIDTH="10%">Assignee:</TD>
<TD ALIGN="LEFT" WIDTH="90%">

<B>International Business Machines Corporation</B>
 (Armonk, 
NY)
<BR>

</TD>
</TR><TR><TD VALIGN="TOP" ALIGN="LEFT" WIDTH="10%" NOWRAP>Appl. No.:
</TD><TD ALIGN="LEFT" WIDTH="90%">                    
<B>11/427,975</B></TD></TR>
  <TR><TD VALIGN="TOP" ALIGN="LEFT" WIDTH="10%">Filed:
  </TD><TD ALIGN="LEFT" WIDTH="90%">                    
  <B>June 30, 2006</B></TD></TR>
</TABLE>
<HR>
<p>
<TABLE WIDTH="100%">
  <TR><TD VALIGN=TOP ALIGN="LEFT" WIDTH="40%"><B>Current U.S. Class:</B></TD>
  <TD VALIGN=TOP ALIGN="RIGHT" WIDTH="80%"><B>340/568.1</B>  ; 340/5.92</TD></TR>
  <TR><TD VALIGN=TOP ALIGN="LEFT" WIDTH="40%"><B>Current International Class: </B></TD>
  <TD VALIGN=TOP ALIGN="RIGHT" WIDTH="80%">G08B 13/14&nbsp(20060101)</TD></TR>
  <TR><TD VALIGN=TOP ALIGN="LEFT" WIDTH="40%"><B>Field of Search: </B></TD>
  <TD ALIGN="RIGHT" VALIGN="TOP" WIDTH="80%">
  



 340/568.1,5.92 705/23,16
  </TD></TR>
</TABLE>
<HR><CENTER><B>References Cited  <a href="/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2Fsearch-adv.htm&r=0&f=S&l=50&d=PALL&Query=ref/7477149">[Referenced By]</A></B></CENTER><HR>
<CENTER><b>U.S. Patent Documents</b></CENTER>
<TABLE WIDTH="100%"> <TR><TD WIDTH="33%"></TD><TD WIDTH="33%"></TD><TD WIDTH="34%"></TD></TR> <TR> <TD ALIGN="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&r=1&f=G&l=50&d=PALL&RefSrch=yes&Query=PN%2F6315199">6315199</a></TD><TD align =left>
November 2001</TD><TD align=left>
Ito et al.</TD></TR><TR><TD align=left>
<a href="/netacgi/nph-Parser?Sect2=PTO1&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&r=1&f=G&l=50&d=PALL&RefSrch=yes&Query=PN%2F6507279">6507279</a></TD><TD align =left>
January 2003</TD><TD align=left>
Loof</TD></TR><TR><TD align=left>
<a href="http://appft1.uspto.gov/netacgi/nph-Parser?TERM1=20040143505&Sect1=PTO1&Sect2=HITOFF&d=PG01&p=1&u=%2Fnetahtml%2FPTO%2Fsrchnum.html&r=0&f=S&l=50" target="_blank">2004/0143505</a></TD><TD align =left>
July 2004</TD><TD align=left>
Kovach</TD></TR><TR><TD align=left>
<a href="http://appft1.uspto.gov/netacgi/nph-Parser?TERM1=20050040934&Sect1=PTO1&Sect2=HITOFF&d=PG01&p=1&u=%2Fnetahtml%2FPTO%2Fsrchnum.html&r=0&f=S&l=50" target="_blank">2005/0040934</a></TD><TD align =left>
February 2005</TD><TD align=left>
Shanton</TD></TR><TR><TD align=left>
<a href="http://appft1.uspto.gov/netacgi/nph-Parser?TERM1=20060080177&Sect1=PTO1&Sect2=HITOFF&d=PG01&p=1&u=%2Fnetahtml%2FPTO%2Fsrchnum.html&r=0&f=S&l=50" target="_blank">2006/0080177</a></TD><TD align =left>
April 2006</TD><TD align=left>
Walter et al.</TD></TR><TR><TD align=left>

</TD>
</TR> </TABLE><CENTER><b>Foreign Patent Documents</b></CENTER>
<TABLE WIDTH="100%"> <TR><TD></TD><TD></TD><TD></TD><TD></TD><TD></TD><TD></TD></TR> <TR> <TD ALIGN="left">
</TD><TD align=left>0623904</TD><TD></TD><TD align=left>
Nov., 1994</TD><TD></TD><TD align=left>
EP</TD></TR><TR><TD align=left>

</TD>
</TR> </TABLE>  <I>Primary Examiner:</I> Bugg; George A
<BR>
  <I>Assistant Examiner:</I> Lu; Shirley
<BR>
  <I>Attorney, Agent or Firm:</I> <coma><coma>Doubet; Marcia Z.
Piche; Jason O.
<BR>
<HR>
<CENTER><B><I>Claims</B></I></CENTER> <HR> <BR><BR>The invention claimed is:<BR><BR> 1.  A method of enabling item purchase directly from a protected area, the method comprising: monitoring, by at least one radio-frequency identification ("RFID")
security sensor positioned to protect the area, presence of each of at least one items expected to be contained within the area, wherein each of the at least one items has a transmission mechanism coupled thereto or integrated therewithin, the
transmission mechanism comprising an RFID security tag sending signals that are detectable by the at least one RFID security sensor while the item remains within proximity of at least one of the at least one RFID security sensors;  and responsive to
detecting, by at least one of the RFID security sensors, a removal of any of the at least one items from the protected area, performing a purchase verification process comprising: obtaining a unique identifier of the removed item by interrogating the
RFID security tag coupled to or integrated within the removed item;  identifying a person who removed the item;  starting a first timer to monitor a first time interval during which the removed item remains outside the protected area;  upon expiration of
the first timer without receiving a notification that a purchase has been completed for the removed item during the first time interval, issuing a first warning to the person who removed the item, and starting a second timer to monitor a second time
interval during which the removed item remains outside the protected area;  upon expiration of the second timer without receiving the notification that the purchase has been completed for the removed item during the second time interval, issuing a
security alert for the removed item;  and upon receiving the notification, at the protected area, that the person removing the item completes the purchase of the removed item, recording an indication that the removed item was purchased, wherein: the
purchase of the removed item is initiated upon a scan of the RFID tag of the removed item by the person;  the notification is generated upon detecting a completion of the purchase of the removed item;  and the security alert indicates that the removed
item was stolen.
<BR><BR> 2.  The method according to claim 1, wherein the protected area comprises a display case.
<BR><BR> 3.  The method according to claim 1, wherein the area comprises at least a portion of a shelf.
<BR><BR> 4.  The method according to claim 1, wherein the first time interval and the second time interval are configurable for each of the items.
<BR><BR> 5.  The method according to claim 1, wherein identifying a person further comprises capturing an image of the person, responsive to detecting the removal, and further comprising: providing the captured image with the security alert when the
security alert is issued;  and deleting the captured image upon receiving the notification.
<BR><BR> 6.  The method according to claim 5, wherein the captured image is a video image of the person.
<BR><BR> 7.  The method according to claim 5, wherein the captured image is a photo image of the person.<HR> <CENTER><B><I> Description</B></I></CENTER> <HR> <BR><BR>BACKGROUND OF THE INVENTION
<BR><BR>The present invention relates generally to a security system for inventory, and more particularly to automatically detecting removal of inventory items from an area or areas protected with security sensors (such as radio-frequency identification,
or "RFID", sensors), and in a retail environment, enables shoppers to purchase items directly from shelves or other protected areas.
<BR><BR>Theft and shoplifting are problems in many environments.  For retail businesses, for example, billions of dollars are lost every year to shoplifting.  Employee theft from inventory stored in warehouses is also a serious problem and results in
large amounts of lost revenue.
<BR><BR>In the retail environment, traditional checkout involves a cashier at the front of the store scanning individual products and completing a purchase transaction for a shopper, all at one time.  In recent years, self-checkout point-of-sale ("POS")
stations have been introduced by some retailers.  While these self-checkout stations may reduce labor costs for the retailer and reduce waiting time for customers making purchases, new challenges are introduced in preventing theft.  Presently, a retailer
creates a database of each inventory item offered for sale, where the information stored for each item typically includes the item's Uniform Product Code ("UPC", sometimes referred to as a "bar code") or other identifying code, description, price, and
weight.  When a shopper scans the UPC of an item being purchased using a scanning mechanism at the POS station, the item weight is retrieved from the database.  Shoppers are typically directed by the self-checkout POS station to place all purchased items
in a particular area of the station, where the collection of scanned items can be weighed.  The weight of the collection is then compared against the expected weight of all scanned items (e.g., to determine whether any non-scanned items have been added).
<BR><BR>This present approach to self-checkout represents a large amount of time spent at the checkout station.  As an additional drawback of this approach, theft is not adequately prevented.
<BR><BR>It is known in the art to use RFID scanning of items--either individually or in bulk--at the front of a store, all at one time, to complete a single purchase transaction.  For bulk scanning, for example, the entire contents of a shopper's
shopping cart may be scanned at a checkout area in the front of a store.  However, in actual practice, the radio-frequency energy from the RFID tags tends to be shielded by metal items that may be present in the cart, such as canned goods, aluminum foil,
and so forth, and thus this type of bulk scanning sometimes provides incomplete information.
<BR><BR>BRIEF SUMMARY OF THE INVENTION
<BR><BR>In preferred embodiments, the present invention provides a security system for inventory whereby removal of inventory items from an area or areas protected with security sensors can be automatically detected.  Theft of inventory items can
therefore be detected and reported.  This preferably further comprises, in one aspect, a security system for inventory, comprising: at least one security sensor positioned to protect an area (such as a shelf or display case, or portion thereof) by
detecting presence of each of at least one items contained within the area, wherein each of the at least one items sends has a transmission mechanism coupled thereto or integrated therewithin, the transmission mechanism capable of sending signals that
are detectable by the at least one security sensor while the item remains within proximity of at least one of the at least one security sensors; and processing removal of any of the at least one items, responsive to failing to detect the presence thereof
within the area.  In this aspect, processing the removal preferably comprises: identifying the removed item and a person removing it; and awaiting a signal that the person removing the item completes a removal transaction within a designated time period,
and if not, treating the removal as a potential theft.
<BR><BR>Preferably, each of the at least one security sensors comprises at least one radio-frequency identification ("RFID") antenna, and the transmission mechanism is an RFID security tag (in which case identifying the removed item preferably further
comprises obtaining an item identifier from the RFID security tag).
<BR><BR>In a further aspect, the prevention invention preferably comprises enabling item purchase directly from a protected area by monitoring, by at least one security sensor positioned to protect the area, presence of each of at least one items
expected to be contained within the area, wherein each of the at least one items sends has a transmission mechanism coupled thereto or integrated therewithin, the transmission mechanism capable of sending signals that are detectable by the at least one
security sensor while the item remains within proximity of at least one of the at least one security sensors; and responsive to detecting, by at least one of the security sensors, a removal of any of the at least one items, identifying the removed item
and awaiting a signal that a person removing the item completes a purchase of the item within a designated time period following the removal, and if not, treating the removal as a potential theft.
<BR><BR>In yet another aspect, the present invention preferably further comprises enabling item ownership transfer directly from a protected area by receiving notification that a security sensor disposed to protect an area from theft has detected removal
of an item from the area, wherein the security sensor is adapted to receive communication signals from the item while the item remains within proximity of the security sensor and the item is adapted for iteratively transmitting the communication signals;
notifying a remover of the item that the item should be purchased to avoid signalling a security system of the removal; and receiving notification, within a designated time period, that the remover of the item requests to purchase the item, and
responsive to receiving the notification, for invoking a purchase transaction, or for signalling the security system of the removal otherwise.
<BR><BR>The foregoing is a summary and thus contains, by necessity, simplifications, generalizations, and omissions of detail; consequently, those skilled in the art will appreciate that the summary is illustrative only and is not intended to be in any
way limiting.  Other aspects, inventive features, and advantages of the present invention, as defined by the appended claims, will become apparent in the non-limiting detailed description set forth below.
<BR><BR>The present invention will be described with reference to the following drawings, in which like reference numbers denote the same element throughout. <BR><BR>BRIEF DESCRIPTION OF THE SEVERAL VIEWS OF THE DRAWINGS
<BR><BR>FIG. 1 depicts a sample configuration of components of a security system for inventory, according to preferred embodiments of the present invention;
<BR><BR>FIG. 2 illustrates a representative RFID tag, according to the prior art;
<BR><BR>FIGS. 3-8 provide flowcharts depicting logic that may be used when implementing preferred embodiments;
<BR><BR>FIG. 9 depicts a sample shelf system showing a plurality of shelves with RFID antennas configured.
<BR><BR>FIG. 10 depicts a data processing system suitable for storing and/or executing program code; and
<BR><BR>FIG. 11 depicts a representative networking environment in which one or more embodiments of the present invention may be used.
<BR><BR>DETAILED DESCRIPTION OF THE INVENTION
<BR><BR>Preferred embodiments of the present invention are directed toward a security system for inventory comprising items stored in an area or areas protected with security sensors.  The protected area may comprise a shelf, a display area (such as a
wall within a display case), a bin or other storage area (such as a freezer holding frozen items), or a portion thereof.  When an item is removed from the protected area, its removal is automatically detected by the security sensors.  In a retail
environment, use of techniques disclosed herein enables a shopper to purchase items directly from a protected area (referred to hereinafter as a shelf for ease of reference), even though this shelf may be remotely located from the traditional
front-of-store checkout location.
<BR><BR>In preferred embodiments, the security sensors use radio-frequency identification ("RFID") technology.  A person removing the item scans an identifying code of the item, such as its bar code or RFID security tag (referred to hereinafter as an
"RFID tag"), with a device such as a portable shopping assistant device; if the item is not scanned in an appropriate manner, such as within a particular a time period, then theft of the item may be suspected (as will be described in more detail herein).
<BR><BR>In a retail environment, an embodiment of the present invention may be used when shoppers are purchasing items in a traditional retail store, an open-air kiosk, a kiosk in an airport or other public area, and so forth.  For the retail
environment, the scanning of the item by the shopper preferably indicates that the shopper is making a purchase of the scanned item.  In a warehouse environment or an environment where employees have access to expensive equipment (such as in medical
laboratories), an embodiment of the present invention may be used when employees are removing items from shelves or other storage areas.  For the warehouse environment, the scanning of the item preferably indicates that the employee is making a transfer
of the scanned item (for example, from in-house inventory storage to shipping); if the item does not arrive at its intended destination, it may be presumed that this employee has stolen it.  An embodiment of the present invention may be used in other
environments as well, such as detecting when a library patron removes a library book from a shelf, and thus the uses and environments discussed herein are by way of illustration and not of limitation.  For the library environment, the scanning of the
item preferably indicates that the library patron is checking the scanned item out for his or her temporary loan.  Whereas a shopper takes ownership of an item following a purchase transaction at the protected area, according to preferred embodiments,
the person removing an item and carrying out a transaction in other environments may generally be considered as taking responsibility for (rather than ownership of) the removed item.
<BR><BR>Components of a security system 100 for inventory, according to preferred embodiments, are depicted in the sample configuration of FIG. 1, and will now be described.
<BR><BR>In preferred embodiments, the items in inventory each have an integrated information-transmitting and information-receiving device such as an RFID tag.  See, for example, reference number 160 of FIG. 1.  An RFID reader and tag system includes
both passive elements (an antenna) and active elements (a read-write data memory, control circuitry, and a radio-frequency transponder).  RFID tags are typically not self-powered, but may receive their power via capacitative coupling directly from energy
in the radio frequency signal transmitted from an external radio frequency source to the RFID tag.  When brought into proximity with an RFID reader at a typical effective distance of about 1 centimeter to 5 meters (depending on the type of tag and reader
antennas), the RFID tag receives sufficient power to enable clocking the semiconductor and analog portions comprising the transponder, control circuits, and data memory through enough clock cycles that the tag can return the data bits from its memory as
a digitally-encoded RF signal.  This is advantageous because the tag can be read (or written) from a distance without the necessity of line-of-sight, as is required to read a bar code with a laser scanner.
<BR><BR>A representative RFID tag 200 of the prior art is illustrated in FIG. 2, showing a coiled antenna 220 (which in this example takes on a generally square shape) embodied on some type of substrate 210.  Note that while discussions herein refer
primarily to using RFID "tags", this is not meant to limit the present invention to use with a particular physical form of RFID implementation.  RFID tags may be more generally referred to as transponders, and are generally capable of both transmitting
and receiving data.  An RFID tag may be attached to an item, may be embedded into the item, or may be provided in an embodiment independent from an item, and it is not necessary that the physical embodiment of the RFID components resembles a tag.  For
ease of reference, RFID tags are referred to herein as being integrated into an item.  (While discussions herein are primarily in terms of RFID technology, this is by way of illustration and not of limitation, and other technology may be substituted
without deviating from the scope of the present invention.  In addition, the terms "RFID interrogator", "RFID reader", and "RFID antenna" are used herein by way of illustration.)
<BR><BR>Referring again to FIG. 1, preferred embodiments include a protected area such as product display case 145, from which items may be removed by a shopper or other person.  Preferably, the protection of the area comprises configuring the area with
a security sensor (or sensors) capable of detecting item removal, such that a security sensor acts as a monitor for the area and its items.  When the items use integrated RFID tags, the security sensors preferably comprise RFID antennas capable of
sensing the signals which are periodically emitted from the item-integrated RFID tags, and these antennas are preferably positioned to detect whether the items remain within proximity of the protected area.  The particular configuration of the security
sensors within a protected area may vary, depending on factors such as the type of security sensor, its range and granularity of detection, the type of items contained within the protected area, and the type of protected area.  As one example, if shelves
in a grocery store are configured as protected areas, it may be desirable to segment each shelf at a particular lineal measurement for purposes of positioning the security sensors.  A physical shelf may therefore contain multiple protected areas, such
that the entire shelf may comprise a group of protected areas (which may be logically chained together).  A shelf area protected by an RFID antenna configuration might be on the order of several feet in length or longer, for example.  As another example,
it may be desirable to configure an entire display case as one protected area by arranging multiple shelf segments, end-to-end down a store aisle.
<BR><BR>FIG. 1 also illustrates a sample portable shopping assistant device 195, which in preferred embodiments is a relatively-small wireless device comprising a scanning mechanism such as a bar code scanner and/or an RFID tag reader, and means for
communicating with security system 100.  Preferably, the scanning mechanism is used when the shopper is purchasing an item and scans an item-identifying code to identify the item.  The portable shopping assistant device 195 may include a bar code scanner
for scanning legacy UPC codes or other types of bar codes.  However, it is expected that RFID tags will become ubiquitous in the near future, and the shopping device 195 may alternatively use an RFID tag reader in addition to, or instead of, the bar code
scanner.  An example of a portable shopping assistant device that exists in the prior art and may be used as device 195 is the commercially-available IBM Mobile Tablet for Retail, marketed by the International Business Machines ("IBM") Corporation.
<BR><BR>The shopping device 195 may communicate 190 with security system 100 using (by way of illustration but not of limitation) cellular phone technology, Bluetooth technology, 802.11 communications, or other wireless means to indicate that the shopper
wishes to purchase a scanned item.  Embodiments of the present invention may support different types of shopping devices, and optionally may support multiple types of shopping devices.  The supported devices may be adapted for reading or scanning other
types of item-identifying information beyond bar codes and RFID tags, without deviating from the scope of the present invention.  Furthermore, devices may be used that are not specifically designed as "shopping" devices.  As one example, the portable
shopping assistant device may comprise a cell phone-type device that is adapted to providing a product scanner function.  As another example, a wireless personal digital assistant ("PDA") scanning function may be used.
<BR><BR>Shopping device 195 may also comprise a biometric reader or other means for identifying the shopper who is using the device, enabling the shopper to "log in" to the device.  Or, the device may comprise other means of identifying the shopper, such
as a keypad on which the shopper can enter a personal identification number ("PIN") that is then compared to a previously-stored value.  The shopper may be identified to the device prior to beginning the overall shopping process, thus shortening
transaction time when purchasing items.  As another approach, the shopper may be identified at each purchase transaction, without deviating from the scope of the present invention.  Optionally, the shopper's financial account information may be stored in
the portable shopping assistant device.  In this case, the stored account information is preferably protected using <B><I>encryption</I></B>.
<BR><BR>Portable shopping assistant device 195 may optionally include a display area, such as a miniature liquid crystal display ("LCD"), and may include audio functionality using integrated speakers.  It may be preferable to use low-cost, low-function
digital processing circuits in device 195, rather than traditional high-cost mobile processor and personal computer technology such as chipsets, discrete memory modules, input/output chips, and so forth.
<BR><BR>Referring now to a retail environment, by way of example, a shopper may purchase items directly from a retail store shelf (or other protected area) using techniques disclosed herein, as mentioned earlier.  When the shopper removes an item from
display case 145, for example, a security sensor such as an RFID antenna that protects the display case senses that the item has been removed, and RFID antenna control processor 155 preferably transmits 135 a notification to security system processor
105.  In addition, upon detecting the item removal, preferred embodiments provide a message to the shopper to inform the shopper that he or she may purchase the item by scanning it using the portable shopping assistant 195, or that alternatively, the
item should be returned to the protected area.  This message may be presented visually and/or audibly.  FIG. 1 illustrates an integrated shopper information display 170 (which may be a conventional computer monitor-type display) at the protected area 145
and speakers 165 that may be provided for this purpose.  Furthermore, in preferred embodiments, a photograph of the shopper is taken using a surveillance camera 140 that is positioned to capture images of shoppers for this protected area.  Multiple
cameras may be used for a particular protected area, if desired.  Furthermore, video cameras may be used instead of, or in addition to, still cameras.  Preferably, all items within the protected area are within line-of-sight coverage for the camera or
cameras, thus providing complete coverage for the area.
<BR><BR>An item-specific time interval is preferably used to determine how long the shopper may keep an item out of the protected area, without purchasing it, before theft of the item is suspected.  If this time interval is exceeded, a warning may be
provided to remind the shopper that a decision is needed to either purchase the item or return it to the protected area (and the return of the item to the protected area is detected by the RFID antenna or other security sensors which are used to protect
that area).  Signal lights 150 may be flashed for this warning, for example.  In addition or instead, a warning message may be provided audibly using speakers 165 and/or visually using information display 170.  Security personnel may be alerted when
theft is suspected.  Such alerts may be audible and/or visual.  It may be desirable to provide such alerts in a manner that prevents the shopper from hearing and/or viewing them, for example by sending a message to a mobile device of the security
personnel.  Refer also to FIGS. 3-8, where this processing is discussed in more detail.
<BR><BR>Inventory management system 100 also preferably includes a security system processor 105, and this security system processor is communicably coupled to the RFID antenna control processor 155 (or other processor or controller) of the protected
area or areas such as display case 145.  Wireless or wired means may be used for communications therebetween.  The security system processor preferably comprises security system control software 115 and is also communicably coupled to a server 175 which
hosts personal shopping assistant management software 180 and RFID inventory management software 185.  (Alternatively, these software applications may be hosted on the same device as the security system control software 115 without deviating from the
scope of the present invention.) Preferably, the security system processor 105 is responsible for generating and distributing the audio speaker output (see 110a), video display output (see 110b), security personnel alerts (see 110c), and signal light
output (see 110d) discussed above.  Security system processor 105 is also preferably responsible for receiving the captured images of shoppers' photographs (see 110e), and may also receive input from RFID sensors placed at the store exit (see 110f), as
will be discussed in more detail below.
<BR><BR>The server 175 (or a data repository accessible therefrom) preferably stores information about the store's inventory.  RFID inventory management software 185 is preferably adapted for subtracting purchased items from inventory, and may also
subtract items from inventory when those items are determined to have been stolen or are otherwise unaccounted for.  Server 175 also may store information about shoppers, which may be associated with a shopper's loyalty card account.  Optionally, a
shopper's account number at one or more financial institutions may be stored at server 175 (or a data repository accessible therefrom).  Alternatively, this information may be retrieved from the shopping device 195 (and in this case, encrypted
communications are used in preferred embodiments for communications 190 that transfer such information).
<BR><BR>A communications mechanism 125, such as a broadband Internet connection, a telephone line connection, or a wireless connection (shown generally at reference number 120) is preferably used at server 175 to transmit and receive financial
information regarding a shopper's item purchases.  For example, an amount of the shopper's purchase may be transmitted to a financial institution such as a bank or credit card company, and verification of sufficient funds and/or notification of funds
transfer to an account of the retailer may be transmitted from the financial institution.  It should be noted that financial institutions with which transactions may be processed are not limited to traditional banks and credit card companies.  As one
alternative, a provider of the wireless service used for transmitting messages to and from the shopper's portable shopping assistant device may process purchase transactions on behalf of the shopper, and such transactions may be charged to the shopper's
account with the wireless service provider.  As another alternative, the purchase transaction information may be communicated to another entity such as a telephone ordering center within a retail store, and this entity may then communicate externally
with the shopper's financial institution.
<BR><BR>It may be desirable in some environments to provide shopping carts (not shown in FIG. 1) with lids or other means that prevent casual removal of the paid-for items stored therein (for example, to prevent unscrupulous shoppers from stealing from
other shoppers' carts).
<BR><BR>Personal shopping assistant management software 180 will now be described in more detail with regard to the flowcharts depicted in FIGS. 3-8.
<BR><BR>Referring first to FIG. 3, a polling operation is initially performed (Block 300) to gather information from the item-integrated RFID tags of all items in a protected area.  Upon receiving the results, an Area Inventory List is populated with the
serial number ("S/N") obtained when reading the RFID tag of each detected item (Block 305).
<BR><BR>Note that while UPC codes traditionally store only a product category or type, such as a particular brand of facial tissues in a particular sized box and color, RFID tags are generally adapted for storing an "Electronic Product Code" ("EPC").  An
EPC identifies a consumer product individually, not just by type.  Present versions of the code used for EPCs comprise 96 bits of information, organized as an 8-bit header, two sets of 24 bits that identify the manufacturer and the product type
(respectively), and a 40-bit serial number.  (Ninety-six bits encode enough information to uniquely identify trillions of objects.) Preferred embodiments preferably use this 40-bit serial number, and may optionally also use the manufacturer and product
type information.
<BR><BR>After populating the Area Inventory List, an iterative loop for monitoring the items in the protected area then begins at Block 310, which checks to see if a "Reset Inventory" command has been received.  It may be desirable to reset the inventory
list for an area when shelves are restocked with new merchandise, for example.  Accordingly, if a reset command was received, control transfers to Block 300 to re-poll the items in the protected area and update the inventory list.  Otherwise, processing
continues at Block 315.
<BR><BR>At Block 315, a polling operation is performed to determine the items currently within the protected area.  Preferably, any items on this list that are flagged as "stolen" (as discussed below with reference to Block 715 of FIG. 7) are not further
processed during this polling operation.  The Area Inventory List that was established at Block 305 is compared (Block 320) to the results of this polling operation, for those items from the Area Inventory List which have not been flagged as stolen. 
Block 325 checks (using the item serial numbers) to see if any of the non-flagged items from the Area Inventory List are missing in the newly-polled list.  If so, then for each of the missing items, control transfers to the logic depicted in FIG. 4,
which in preferred embodiments performs a first of several levels of security processing.
<BR><BR>FIG. 3 illustrates, between Blocks 325 and 330, encircled "F", which indicates that the purchase transaction processing shown in FIG. 8 may be carried out at this point (e.g., responsive to detecting that the shopper scans a removed item).
<BR><BR>Following a negative result at Block 325 (i.e., when none of the serial numbers are missing) and following completion of the processing in FIG. 4, processing continues at Block 330.
<BR><BR>Referring now to FIG. 4, this processing represents a first level of security whereby the item removal is detected, the shopper receives feedback that a system is monitoring their actions, the first level of security system is activated to
monitor the environment, and an interval timer is started, as will now be described.  In preferred embodiments, the serial number of an item which is missing from the newly-polled list is stored in a Removed Item List (Block 400) for this protected area. For ease of reference, this serial number is referred to in the figures as having some value `x`, where `x` represents a value that uniquely identifies that product among the products in the protected area.  At this point, it may be presumed that the
shopper has removed the item for purchase or perhaps for inspection, for example to read information contained on the item's label.  Preferred embodiments therefore provide information designed to assist the shopper in making a purchase, as will now be
described with reference to Blocks 405-410.
<BR><BR>In Block 405, an audible message is preferably sent to the speakers which are found at the protected area (see reference number 165 of FIG. 1).  This message may be a pleasant greeting to the shopper as a subtle signal that a security system is
monitoring his or her actions, or a direct message that a security system is in progress to prevent theft.  The audio message may also (or alternatively) provide information about the item which was removed, such as its price, and/or instructions about
how to make a purchase.  In addition to or instead of an audible message, such information may be displayed visually (Block 410), and this visual display may use the display device found at the protected area (see reference number 170 of FIG. 1).  Or,
one portion of the information to be provided may be sent to the speakers, while a different portion is sent to the visual display device.  In alternative embodiments, information may be sent to speakers and/or a display of the shopper's personal
shopping device 195.
<BR><BR>Optionally, the visual display may contain a touch-sensitive overlay or other mechanism which allows interaction by the shopper.  The shopper may use this to page through different screens of information about the item, for example.  As other
examples, the shopper may use the interaction mechanism to access a wide variety of information concerning the items for sale, to obtain remote purchasing instructions, to request assistance from store personnel, or to perform other tasks that may be
desired in a retail shopping environment.
<BR><BR>As a further theft deterrent, still or real-time motion video of the shopper may be displayed to the shopper on the visual display mounted at the protected area.  This visual image may also be used by security personnel to identify and track a
potential thief as they move about the store and eventually attempt to leave the premises.  Storage of the video images may be subsequently purged, for example at such time that the image is no longer required for security or the storage database becomes
filled.  Surveillance camera 140 preferably captures a photographic image of the shopper (Block 415).  In Block 420, this image and an association of the image with the removed item having serial number `x` is transmitted to security system control
software (see reference number 115 of FIG. 1).  Wired or wireless means may be used for this transmission (not shown in FIG. 1).  The image (and/or video, as appropriate) is then sent to server 175 for storage and processing, in preferred embodiments.
<BR><BR>At Block 425, a timer is started for this particular removed item.  The timer is referred to herein as "S/N `x` Removed Timer1".  This timer is used to count down an interval of time during which the item having a particular serial number remains
out of the protected area without having been purchased by the shopper.  The interval of time to use for each item may be identical; alternatively, item-specific time intervals may be used.  In the latter case, the length of the interval is preferably
configured such that the shopper is allowed sufficient time to inspect this particular removed item.
<BR><BR>Control then returns to FIG. 3, resuming processing at Block 330, which tests to see if the item having serial number `x` has been purchased by the shopper.  If the test in Block 330 has a positive result (i.e., the missing item was purchased),
then for each of those items, control transfers to the logic depicted in FIG. 5.  Otherwise, processing continues at Block 335 (and control also resumes at Block 335 following completion of the processing in FIG. 5).
<BR><BR>Referring now to FIG. 5, the purchased item with serial number `x` is preferably removed from the Removed Item List (Block 500) for the protected area, such that the security system no longer monitors the item, and is added to a Purchased Items
list (Block 505).  Also, the "S/N `x` Removed Timer1" timer is stopped (Block 510).  Block 515 then updates the Area Inventory List for this protected area, such that the item with serial number `x` is no longer on the list.  The general retail store
inventory database is preferably also updated to reduce the overall store inventory, reflecting the item purchased (Block 520).  The shopper has taken ownership of the item at this point.
<BR><BR>Control then returns to FIG. 4, resuming processing at Block 335, which tests to see if a "S/N Removed Timer1" has ended for any items from this protected area.  If so, then for each of those items, control transfers to the logic depicted in FIG.
6.  Otherwise, processing continues at Block 340 (and control also resumes at Block 340 following completion of the processing in FIG. 6).
<BR><BR>Referring now to FIG. 6, a second level of progressive security measures is reflected therein.  According to preferred embodiments, this second level gives a shopper an additional warning that an item which has been removed from the protected
area--for a time interval longer than permitted by the item's "Timer1" value--must either be purchased or returned to the protected area.  Accordingly, Block 600 preferably activates signal lights at the protected area (see reference number 150 of FIG.
1), and in Block 605, an audio message is preferably sent to the speakers 165.  This audio message preferably informs the shopper of his or her options, e.g., to complete the purchase or return the item.  The message may also inform the shopper that
security personnel will be notified in the event that neither of these actions occurs in a timely manner.
<BR><BR>Preferred embodiments then start another timer, referred to herein as "S/N `x` Removed Timer2" (Block 610).  This timer is used to count down an interval of time during which the shopper can complete the purchase of the item having serial number
`x` or return the item to the protected area.  The interval of time used for this timer is preferably shorter than the interval used for the "Timer1" timer (as the shopper has already had sufficient time to inspect the removed item).  Optionally, an
embodiment of the present invention may notify the shopper of the time interval in the warning message given at Block 605.
<BR><BR>Following completion of the processing in FIG. 6, and also following a negative result for the test at Block 335, control reaches Block 340.  Block 340 tests to see if a "S/N Removed Timer2" has ended for any items from this protected area.  If
so, then for each of those items, control transfers to the logic depicted in FIG. 7.  Otherwise, processing continues at Block 345 (and control also resumes at Block 345 following completion of the processing in FIG. 7).
<BR><BR>Referring now to FIG. 7, a third progressive level of security is provided by preferred embodiments that notifies security personnel when theft of an item from a protected area is suspected.  This processing is invoked when both the "Timer1" and
"Timer2" values for the item having serial number `x` have elapsed without the item either being purchased or returned to the protected area.  Accordingly, it may be presumed that the item having serial number `x` has been stolen.  Block 700 preferably
adds the item's serial number to an Item Theft List.  In Block 705, security personnel are notified.  As mentioned earlier, this notification may be sent in a way that prevents the suspected thief from being warned, for example by sending a message to a
mobile device of the security personnel.  The captured image of the shopper may be included with this notification.  Item sensors located at the store exit (which may be of a conventional type) are preferably activated at Block 710, and may be adapted to
receive a notification of the item serial number and/or other item-identifying information of the particular item, such that the sensor can monitor and thus detect when the shopper attempts to pass through the exit with this particular item.
<BR><BR>In Block 715, the item is preferably flagged as "stolen" on the Area Inventory List.  Rather than remove the item from the list entirely, this flagging approach facilitates getting the item back onto the correct shelf if the theft is prevented. 
Security system control software 115 preferably runs an audit process to delete a flagged item from the Area Inventory List when a theft of the item is confirmed.  This confirmation is preferably provided by security personnel.
<BR><BR>Following completion of the processing in FIG. 7, and also following a negative result for the test at Block 340, control reaches Block 345.  Block 345 tests to see any of the items previously removed from a protected area have been found by the
polling operation (e.g, the polling operation has detected the serial number of an item on this protected area's Removed Item List).  This typically indicates that the shopper has returned a previously-removed item to the protected area rather than
purchasing it.  If various levels of security have been activated, then those levels are deactivated, as will now be described.
<BR><BR>In Block 350, a "cancel security" signal is sent to the security system control software 115.  Any security alerts that have been issued are cancelled (Block 355).  Any timers that are running for this item are stopped (Block 360), including the
"S/N Removed Timer1" and "S/N Removed Timer2".  In Block 365, the "stolen" flag for the item is removed from the Area Inventory List.
<BR><BR>When the test in Block 345 has a negative result and also following completion of Block 365, control transfers to Block 310 to begin another iteration of the logic for monitoring the items in the protected area.
<BR><BR>Referring now to FIG. 8, logic is depicted to illustrate how a purchase transaction may be carried out.  After deciding to purchase a removed item, the shopper uses a personal shopping device to scan the item (Block 800) to obtain an item
identification.  This scanning may comprise scanning a bar code (such as a UPC code); in addition or instead, the item's integrated RFID tag may be scanned.  Scanning the RFID tag is preferable, as it enables uniquely identifying this particular item (as
has been discussed above).  In alternative embodiments, if a unique identifier is not available in this scanning phase (for example, if the portable shopping assistant device does not have an RFID reader), then the UPC or other scanned identifier may be
used to obtain a unique identifier from the item from the RFID polling logic.
<BR><BR>When an RFID reader is used to scan a product for the purpose of purchasing that item, the RFID reader will preferably be configured have a relatively limited-range antenna.  This enables the RFID reader to discriminate between the item to be
purchased and all the other like item that remain in the protected area (e.g., on the shelf).  This limited range may be (for example) less than one inch, and an appropriate range may be established (for example) by changing the size of the RFID reader's
antenna.  Using a limited-range antenna facilitates scanning of only an item actually being purchased.
<BR><BR>In Block 805, a purchase request, including an identification of the item being purchased and information identifying the shopper, is transmitted from the shopper's personal shopping assistant device to Purchase Management software at the store,
which is preferably hosted on server 175.  The transmission from the personal shopping assistant device to server 175 preferably uses wireless communications (see reference number 190 in FIG. 1).
<BR><BR>The Purchase Management software is preferably adapted for receiving the transmitted information from the personal shopping assistant device, obtaining pricing information for the item identified therein, and requesting payment from a financial
institution associated with this shopper.  As noted earlier, encrypted communications are preferably used if information pertaining to the shopper's financial institution (such as an account number) is transmitted with the purchase request.  As one
alternative, the store may determine the information pertaining to the shopper's financial institution using previously-stored or previously-obtained information (which may be associated with a shopper loyalty card of this shopper, for example).
<BR><BR>Prior art techniques may be used for the Purchase Management software that completes the purchase request received at server 175.  For example, the retail store may have stored credit card numbers of its frequent shoppers maintained by a database
on server 175.  In this case, at the time of purchase, the shopper may be prompted for a personal security verification (e.g., a PIN number or password prompt, biometric information verification, or encrypted private security software key).  After the
shopper's identity has been verified by the Purchase Management software on server 175, the shopper preferably signals his or her permission to complete the purchase transaction with the credit card company, as a normal credit card transaction would take
place.  Other known means of electronic purchase may be used by embodiments of the present invention, such as Electronic Funds Transfer with a financial institution or via a debit card transaction directly with the shopper's bank account.
<BR><BR>As an alternative to encrypting only those transmissions which transmit the shopper's financial or account information, it may be preferable to encrypt all transmissions to and from the portable shopping assistant device.  Optionally, embodiments
of the present invention may provide a configuration interface whereby an administrator can specify which communication flows should be encrypted.
<BR><BR>Block 810 tests to see if a purchase confirmation has been received from the shopper's financial institution.  If not, then an error message may be transmitted to the shopper (Block 815).  This error message may be presented by audible and/or
visual means, and may be presented using the speakers and/or display device of the protected area and/or of the shopper's portable shopping assistant device.  Upon completion of the error message processing, control preferably exits from FIG. 8.
<BR><BR>When the test in Block 810 has a positive result (i.e., the purchase confirmation has been received), control reaches Block 820, where a purchase verification message is preferably transmitted to the shopper's portable shopping assistant device. 
A purchase confirmation message is then presented to the shopper (Block 825), giving the shopper immediate feedback that the purchase transaction has been completed (and that the shopper's account has been charged).  As with the error message discussed
above, this confirmation message may be audible and/or visual, and is preferably presented using speakers and/or a display area of the portable shopping assistant device.  Optionally, a purchase confirmation may be also be presented using the speakers
and/or display device of the protected area.
<BR><BR>Block 830 then marks the item `x` as being purchased on a shopping list that is maintained, in preferred embodiments, by the personal shopping assistant device.  At Block 835, the previously-captured photo and/or video images of the shopper
(discussed above with reference to Block 415 of FIG. 4) is/are preferably deleted, now that the item has been purchased.  Control then exits from FIG. 8.
<BR><BR>When an embodiment of the present invention is used in an environment where the items of the protected area are not for purchase, such as the employee item checkout and library patron checkout environments discussed earlier, the processing in
FIG. 8 may be adapted accordingly.  For example, rather than completing a purchase transaction by a shopper, the transaction of interest may be completing a library item checkout by a library patron.  In this case, rather than communicating with a
financial institution to process a purchase, the transaction may comprise communicating with a library patron system to assign the scanned library items to an account represented by this person's library card.  Accordingly, the term "removal transaction"
may be used in a generic sense to include purchase transactions and other transactions that follow from an item being removed from a protected area.
<BR><BR>Referring now to FIG. 9, a sample shelf system 900 is depicted showing a plurality of shelves with RFID antennas configured.  For ease of illustration, the antennas are shown using a dashed outline.  See, for example, shelf 920 and its
corresponding antenna 910.  The antennas may be embedded within the shelves, mounted under the shelves, mounted on top of the shelves, or otherwise coupled thereto.  Location of antennas may be configured for optimum readability of RFID tags and may
depend on factors such as whether shelf units are metallic or non-metallic; whether product RFID tags are located on the top or bottom of the items to be contained within the protected area; or other physical relationships between the RFID tags, topology
of shelf units, and proximity of RF-inhibiting materials such as metal shelves and metal products containing RFID tags.  In this sample system 900, the configuration of the antennas facilitates reading RFID tags coupled to the tops of metal cans placed
on the shelves (by way of example).
<BR><BR>As has been described, using techniques disclosed herein, shoppers may purchase items directly from the shelves or other protected areas, where the purchase transaction is facilitated by the portable shopping assistant device.  The protected
areas thus function as virtual vending machines, whereby ownership of an item can begin immediately after removing the item from the protected area.  The shopper then does not need to go through a checkout line at the front of the store, which may result
in considerable time savings for the shopper and reduced labor costs for the retailer.  The retailer may also eliminate or reduce store-front point-of-sale stations, leading to reduced equipment costs.  As an alternative, traditional store-front theft
detection mechanisms may continue to be used, thus providing another opportunity to prevent theft.  For example, a store-front POS station may scan the RFID tags in the shopper's cart to ensure the items have been marked as being paid for (e.g., by
comparing the item identifiers from the scanned RFID tags to Purchased Items lists that have been created as discussed above with reference to Block 505 of FIG. 5).  In contrast to current self-checkout POS stations, techniques of the present invention
alleviate the need to individually weigh each purchased item for security purposes.
<BR><BR>Analogous types of transactions may be carried out in other environments in a similar manner, and similar savings may be realized.  For example, a library patron may scan books or other items at the shelf, thus causing an immediate checkout of
those items, and can then exit the library without having to go through a checkout process at the library checkout desk.
<BR><BR>As will be appreciated by one of skill in the art, embodiments of the present invention may be provided as (for example) methods, systems, and/or computer program products.  The invention preferably takes the form of an embodiment containing both
hardware and software elements (although an embodiment comprising only hardware elements, in which the above-described processing logic may be encoded, for example, on chips, is also within the scope of the present invention).  The software may include
(but is not limited to) firmware, resident software, microcode, etc. Furthermore, the present invention may take the form of a computer program product which is embodied on one or more computer-usable storage media (including, but not limited to, disk
storage, CD-ROM, optical storage, and so forth) having computer-usable program code embodied therein, where this computer program product may be used by or in connection with a computer or any instruction execution system.  For purposes of this
description, a computer-usable or computer-readable medium can be any apparatus that can contain, store, communicate, propagate, or transport the program for use by or in connection with the instruction execution system, apparatus, or device.
<BR><BR>The medium may be an electronic, magnetic, optical, electromagnetic, infrared, or semiconductor system (or apparatus or device) or a propagation medium.  Examples of a computer-readable medium include a semiconductor or solid state memory,
magnetic tape, a removable computer diskette, a random access memory ("RAM"), a read-only memory ("ROM"), a rigid magnetic disk, and an optical disk.  Current examples of optical disks include compact disk read-only memory ("CD-ROM"), compact disk
read/write ("CD-R/W"), and DVD.
<BR><BR>Referring now to FIG. 10, a data processing system 1000 suitable for storing and/or executing program code includes at least one processor 1012 coupled directly or indirectly to memory elements through a system bus 1014.  The memory elements can
include local memory 1028 employed during actual execution of the program code, bulk storage 1030, and cache memories (not shown) which provide temporary storage of at least some program code in order to reduce the number of times code must be retrieved
from bulk storage during execution.
<BR><BR>Input/output (I/O") devices (including but not limited to keyboards 1018, displays 1024, pointing devices 1020, other interface devices 1022, etc.) can be coupled to the system either directly or through intervening I/O controllers or adapters
(1016, 1026).
<BR><BR>Network adapters may also be coupled to the system to enable the data processing system to become coupled to other data processing systems or remote printers or storage devices through intervening private or public networks (as shown generally at
1032).  Modems, cable modem attachments, wireless adapters, and Ethernet cards are just a few of the currently-available types of network adapters.
<BR><BR>FIG. 11 illustrates a data processing network environment 1100 in which the present invention may be practiced.  The data processing network 1100 may include a plurality of individual networks, such as wireless network 1142 and network 1144.  A
plurality of wireless devices 1110a-1110c (which, by way of illustration only, represent a wireless pager 110a, a wireless cellular phone 1110b, and the IBM Mobile Tablet for Retail 1110c) may communicate over wireless network 1142, and a plurality of
wired devices, shown in the figure (by way of illustration) as workstations 1111, may communicate over network 1144.  Additionally, as those skilled in the art will appreciate, one or more local area networks ("LANs") may be included (not shown), where a
LAN may comprise a plurality of devices coupled to a host processor.
<BR><BR>Still referring to FIG. 11, the networks 1142 and 1144 may also include mainframe computers or servers, such as a gateway computer 1146 or application server 1147 (which may access a data repository 1148).  A gateway computer 1146 serves as a
point of entry into each network, such as network 1144.  The gateway 1146 may be preferably coupled to another network 1142 by means of a communications link 1150a.  The gateway 1146 may also be directly coupled to one or more workstations 1111 using a
communications link 1150b, 1150c, and/or may be indirectly coupled to such devices.  The gateway computer 1146 may be implemented utilizing an Enterprise Systems Architecture/370.TM.  available from IBM, an Enterprise Systems Architecture/390.RTM. 
computer, etc. Depending on the application, a midrange computer, such as an Application System/400.RTM.  (also known as an AS/400.RTM.) may be employed.  ("Enterprise Systems Architecture/370" is a trademark of IBM; "Enterprise Systems
Architecture/390", "Application System/400", and "AS/400" are registered trademarks of IBM in the United States, other countries, or both.)
<BR><BR>The gateway computer 1146 may also be coupled 1149 to a storage device (such as data repository 1148).
<BR><BR>Those skilled in the art will appreciate that the gateway computer 1146 may be located a great geographic distance from the network 1142, and similarly, the wireless devices 1110a-1110c and/or workstations 1111 may be located some distance from
the networks 1142 and 1144, respectively.  For example, the network 1142 may be located in California, while the gateway 1146 may be located in Texas, and one or more of the workstations 1111 may be located in Florida.  The wireless devices 1110a-1110c
may connect to the wireless network 1142 using a networking protocol such as the Transmission Control Protocol/Internet Protocol ("TCP/IP") over a number of alternative connection media, such as cellular phone, radio frequency networks, satellite
networks, etc. The wireless network 1142 preferably connects to the gateway 1146 using a network connection 1150a such as TCP or User Datagram Protocol ("UDP") over IP, X.25, Frame Relay, Integrated Services Digital Network ("ISDN"), Public Switched
Telephone Network ("PSTN"), etc. The workstations 1111 may connect directly to the gateway 1146 using dial connections 1150b or 1150c.  Further, the wireless network 1142 and network 1144 may connect to one or more other networks (not shown), in an
analogous manner to that depicted in FIG. 11.
<BR><BR>The present invention has been described with reference to flow diagrams and/or block diagrams according to embodiments of the invention.  It will be understood that each flow and/or block of the flow diagrams and/or block diagrams, and
combinations of flows and/or blocks in the flow diagrams and/or block diagrams, can be implemented by computer program instructions.  These computer program instructions may be provided to a processor of a general purpose computer, special purpose
computer, embedded processor, or other programmable data processing apparatus to produce a machine, such that the instructions, which execute via the processor of the computer or other programmable data processing apparatus, create means for implementing
the functions specified in the flow diagram flow or flows and/or block diagram block or blocks.
<BR><BR>These computer program instructions may also be stored in a computer-readable memory that can direct a computer or other programmable data processing apparatus to function in a particular manner, such that the instructions stored in the
computer-readable memory produce an article of manufacture including instruction means which implement the function specified in the flow diagram flow or flows and/or block diagram block or blocks.
<BR><BR>The computer program instructions may also be loaded onto a computer or other programmable data processing apparatus to cause a series of operational steps to be performed on the computer or other programmable apparatus to produce a computer
implemented process such that the instructions which execute on the computer or other programmable apparatus provide steps for implementing the functions specified in the flow diagram flow or flows and/or block diagram block or blocks.
<BR><BR>While preferred embodiments of the present invention have been described, additional variations and modifications in those embodiments may occur to those skilled in the art once they learn of the basic inventive concepts.  Therefore, it is
intended that the appended claims shall be construed to include preferred embodiments and all such variations and modifications as fall within the spirit and scope of the invention.
<BR><BR><CENTER><B>* * * * *</B></CENTER>
<HR>
<CENTER>
<a href=http://patimg1.uspto.gov/.piw?Docid=07477149&homeurl=http%3A%2F%2Fpatft.uspto.gov%2Fnetacgi%2Fnph-Parser%3FSect1%3DPTO2%2526Sect2%3DHITOFF%2526u%3D%25252Fnetahtml%25252FPTO%25252Fsearch-adv.htm%2526r%3D123%2526f%3DG%2526l%3D50%2526d%3DPTXT%2526s1%3D((RFID%252BOR%252B%252522radio%252Bfrequency%252Bidentification%252522).ABTX.%252BAND%252B(((Cryptography%252BOR%252BCrypto)%252BOR%252BEncryption)%252BOR%252BCipher))%2526p%3D3%2526OS%3Dabst%2F(RFID%252Bor%252B(%252522radio%252Bfrequency%252Bidentification%252522))%252BAND%252B(Cryptography%252Bor%252BCrypto%252Bor%252BEncryption%252Bor%252BCipher)%2526RS%3D(ABST%2F(RFID%252BOR%252B%252522radio%252Bfrequency%252Bidentification%252522)%252BAND%252B(((Cryptography%252BOR%252BCrypto)%252BOR%252BEncryption)%252BOR%252BCipher))&PageNum=&Rtype=&SectionNum=&idkey=NONE&Input=View+first+page><img src="/netaicon/PTO/image.gif" alt="[Image]" border="0" valign="middle"></A>
<table>
<tr><td align=center><A HREF="http://ebiz1.uspto.gov/vision-service/ShoppingCart_P/ShowShoppingCart?backUrl1=http%3A//patft1.uspto.gov/netacgi/nph-Parser?Sect1%3DPTO2%26Sect2%3DHITOFF%26u%3D%25252Fnetahtml%25252FPTO%25252Fsearch-adv.htm%26r%3D123%26f%3DG%26l%3D50%26d%3DPTXT%26s1%3D((RFID%252BOR%252B%252522radio%252Bfrequency%252Bidentification%252522).ABTX.%252BAND%252B(((Cryptography%252BOR%252BCrypto)%252BOR%252BEncryption)%252BOR%252BCipher))%26p%3D3%26OS%3Dabst%2F(RFID%252Bor%252B(%252522radio%252Bfrequency%252Bidentification%252522))%252BAND%252B(Cryptography%252Bor%252BCrypto%252Bor%252BEncryption%252Bor%252BCipher)&backLabel1=Back%20to%20Document%3A%207477149"><img border=0 src="/netaicon/PTO/cart.gif" border=
0 valign=middle alt="[View Shopping Cart]"></A>
<A HREF="http://ebiz1.uspto.gov/vision-service/ShoppingCart_P/AddToShoppingCart?docNumber=7477149&backUrl1=http%3A//patft1.uspto.gov/netacgi/nph-Parser?Sect1%3DPTO2%26Sect2%3DHITOFF%26u%3D%25252Fnetahtml%25252FPTO%25252Fsearch-adv.htm%26r%3D123%26f%3DG%26l%3D50%26d%3DPTXT%26s1%3D((RFID%252BOR%252B%252522radio%252Bfrequency%252Bidentification%252522).ABTX.%252BAND%252B(((Cryptography%252BOR%252BCrypto)%252BOR%252BEncryption)%252BOR%252BCipher))%26p%3D3%26OS%3Dabst%2F(RFID%252Bor%252B(%252522radio%252Bfrequency%252Bidentification%252522))%252BAND%252B(Cryptography%252Bor%252BCrypto%252Bor%252BEncryption%252Bor%252BCipher)&backLabel1=Back%20to%20Document%3A%207477149">
<img border=0 src="/netaicon/PTO/order.gif" valign=middle alt="[Add to Shopping Cart]"></A>
</td></tr>
<tr><td align=center>
<A  HREF=/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=123&f=S&l=50&d=PTXT&s1=((RFID+OR+%22radio+frequency+identification%22).ABTX.+AND+(((Cryptography+OR+Crypto)+OR+Encryption)+OR+Cipher))&p=2&Query=abst/(RFID+or+(&quot;radio+frequency+identification&quot;))+AND+(Cryptography+or+Crypto+or+Encryption+or+Cipher)><IMG VALIGN=MIDDLE SRC=/netaicon/PTO/prevlist.gif border=0 ALT=[PREV_LIST]></A>
<A  HREF=/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=123&f=S&l=50&d=PTXT&s1=((RFID+OR+%22radio+frequency+identification%22).ABTX.+AND+(((Cryptography+OR+Crypto)+OR+Encryption)+OR+Cipher))&p=3&Query=abst/(RFID+or+(&quot;radio+frequency+identification&quot;))+AND+(Cryptography+or+Crypto+or+Encryption+or+Cipher)><IMG VALIGN=MIDDLE SRC=/netaicon/PTO/hitlist.gif border=0 ALT=[HIT_LIST]></A>
<A  HREF=/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=123&f=S&l=50&d=PTXT&s1=((RFID+OR+%22radio+frequency+identification%22).ABTX.+AND+(((Cryptography+OR+Crypto)+OR+Encryption)+OR+Cipher))&p=4&Query=abst/(RFID+or+(&quot;radio+frequency+identification&quot;))+AND+(Cryptography+or+Crypto+or+Encryption+or+Cipher)><IMG VALIGN=MIDDLE SRC=/netaicon/PTO/nextlist.gif border=0 ALT=[NEXT_LIST]></A>
<A  HREF=/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=122&f=G&l=50&d=PTXT&s1=((RFID+OR+%22radio+frequency+identification%22).ABTX.+AND+(((Cryptography+OR+Crypto)+OR+Encryption)+OR+Cipher))&p=3&OS=abst/(RFID+or+(&quot;radio+frequency+identification&quot;))+AND+(Cryptography+or+Crypto+or+Encryption+or+Cipher)><IMG VALIGN=MIDDLE SRC=/netaicon/PTO/prevdoc.gif border=0 ALT=[PREV_DOC]></A>
<A  HREF=/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=124&f=G&l=50&d=PTXT&s1=((RFID+OR+%22radio+frequency+identification%22).ABTX.+AND+(((Cryptography+OR+Crypto)+OR+Encryption)+OR+Cipher))&p=3&OS=abst/(RFID+or+(&quot;radio+frequency+identification&quot;))+AND+(Cryptography+or+Crypto+or+Encryption+or+Cipher)><IMG VALIGN=MIDDLE SRC=/netaicon/PTO/nextdoc.gif border=0 ALT=[NEXT_DOC]></A>

<a href="#top"><img valign=middle src="/netaicon/PTO/top.gif" border=0 alt="[Top]"></a>
</td></tr>
</table>
<a name="bottom"></a>
<a href="http://www.uspto.gov/patft/index.html"><img src="/netaicon/PTO/home.gif" alt="[Home]" border="0" valign=middle></a>
<a href="/netahtml/PTO/search-bool.html"><img src="/netaicon/PTO/boolean.gif" alt="[Boolean Search]" border="0" valign=middle></a>
<A HREF="/netahtml/PTO/search-adv.htm"><IMG BORDER="0" SRC="/netaicon/PTO/manual.gif" ALT="[Manual Search]" valign=middle></A>
<a href="/netahtml/PTO/srchnum.htm"><img src="/netaicon/PTO/number.gif" alt="[Number Search]" border="0" valign=middle></a>
<A HREF="http://www.uspto.gov/patft/help/help.htm"><IMG BORDER="0" SRC="/netaicon/PTO/help.gif" ALT="[Help]" valign=middle></A>
</center>
</BODY>
</HTML>